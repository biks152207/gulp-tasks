!function(){app.service("userRoleValidator",["$q","userModel","roleValidators","popupService","CONSTANT","$window",function(e,o,r,n,s,l){var t=this;t.checkUserRole=function(t,a,i,c){var u=e.defer();u.resolve();var v=o.getUserFeatures(),p=v[a],d=o.getAllFeatures();if(p)r.validate(t,a,p,i,function(e){e&&e.type&&"validation"==e.type&&c&&n.roleWarning(null,e).then(function(){l.open(s.website,"blank"),console.log("UPGRADE code goes here")},function(){console.log("UPGRADE CANCEL code goes here")}),e?u.reject(e):u.resolve()});else{var g=d[a];u.reject({result:!1,type:"role",reasons:[{key:"license",value:{name:g.name,message:g.message}}]})}return u.promise}}])}();