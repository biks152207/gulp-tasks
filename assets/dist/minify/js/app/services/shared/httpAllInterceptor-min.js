!function(){app.service("httpAllInterceptor",["$rootScope","$window","$q","TodoZuDB","userModel","message","$timeout",function(e,o,i,n,r,t,a){function s(i){try{var n=i.headers();if(n["x-api-version"]){console.log("api version : "+n["x-api-version"]);var r=n["x-api-version"],t=parseInt((n["x-api-version"]||"").replace(/\./g,"")),a=o.localStorage.getItem("x-api-version");if(a){var s=parseInt((o.localStorage.getItem("x-api-version")||"").replace(/\./g,""));s!=t&&e.$emit("api-version-changed",r)}else o.localStorage.setItem("x-api-version",r)}}catch(e){console.log("Error in version check"),console.log(e)}finally{return i}}this.response=function(e){return i(function(o,i){try{o(e)}finally{a(function(){r.isAuthenticated()&&s(e)})}})}}])}();