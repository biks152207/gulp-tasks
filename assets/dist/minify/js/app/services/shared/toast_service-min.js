(function(){app.service("toastService",["$rootScope","toastr","toastrConfig","$templateCache","$ionicListDelegate","$ionicLoading","$state","platformService","$timeout",function(t,e,o,s,n,i,a,c,l){function u(){return'<div class = "toast-undo"> <span class="toast-message">Task completed</span> <button class="undo-button" ng-click="undoToast()">UNDO</button></div>'}function r(t,o){l(function(t){return function(){t&&t.isOpened&&e.remove(t.scope.toastId)}}(t),void 0!==o?o:3500)}var p=this,d=!1,m=s.get("directives/toast/toast.html");p.setDefaultToast=function(){s.remove("directives/toast/toast.html"),angular.extend(o,{positionClass:c.isMobileDevice()?"toast-bottom-full-width":"toast-bottom-center",tapToDismiss:!0,timeOut:3e3,preventOpenDuplicates:!0,preventDuplicates:!1,onShown:function(t){console.log("Showing toast - "+(t.scope.message?t.scope.message.toString():"")+"    "+t.scope.toastId)},onHidden:function(t,e){console.log("Hiding toast - "+(e.scope.message?e.scope.message.toString():"")+"    "+e.scope.toastId)}}),s.put("directives/toast/toast.html",m)},p.openTaskCompleteToast=function(){s.remove("directives/toast/toast.html"),angular.extend(o,{positionClass:c.isMobileDevice()?"toast-bottom-full-width":"toast-bottom-center",tapToDismiss:!1,onHidden:function(){t.$emit("bulk-complete:response",d),p.setDefaultToast(),d=!1},preventOpenDuplicates:!0}),s.put("directives/toast/toast.html",u());var n=e.success();r(n,3500)},t.undoToast=function(){d=!0,e.clear()},t.$on("toast-message",function(t,o){p.setDefaultToast();var s;s=o.success?e.success(o.title):e.error(o.title),r(s,3500)}),$(document).on("click","ion-side-menu,ion-header-bar",function(){e.clear()})}])}).call(this);