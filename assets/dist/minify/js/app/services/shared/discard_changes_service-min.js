(function(){app.service("discardChange",["$ionicPopup","$state","message","stringService",function(e,n,t,a){var i,s,o,u=this;u.savePrevious=function(e,n){s=!1,i=e,o=angular.copy(n)},u.discardPopup=function(o,u){e.show({template:t.infoMessages.DISCARD_CHANGE.message,title:t.infoMessages.DISCARD_CHANGE.title,scope:i,buttons:[{text:a.NO,onTap:function(){return!0}},{text:a.YES,onTap:function(){s=!0,n.go(o.name,u)}}]})},u.updateDiscardedBeforeSave=function(){s=!0},u.isChanged=function(e){return!angular.equals(o,e)},u.changeState=function(e,n,t,a){!s&&u.isChanged(a)&&(e.preventDefault(),u.discardPopup(n,t))}}])}).call(this);