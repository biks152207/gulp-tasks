(function(){app.controller("addLabelController",["$rootScope","$scope","$ionicModal","discardChange","userModel","guidGenerator","dbEnums","sharedData","labelService","message",function(e,a,l,t,o,s,n,d,i,r){a.selectColor=function(e){a.label.color=e},a.saveKeyEnter=function(e){console.log("sds"),13==e.keyCode&&a.save()},a.save=function(){a.form.$submitted=!0,a.form.$valid&&(a.label.id=s.getId(),a.label.userId=o.getLoggedInId(),a.label.tasks=[],a.label.status=n.status.active,a.label.date_created=new Date,a.label.date_modified=new Date,i.addOrUpdate(a.label).then(function(l){l&&(a.form.$setPristine(),a.form.$setUntouched(),a.label={},e.$emit("toast-message",r.successMessages.LABEL_SAVED),e.$emit("labelList-update"),t.updateDiscardedBeforeSave(),d.home())}))},a.start=function(){a.label={},a.colors=d.colorsCodes(),e.title="Add Label",e.$emit("basic:header",null,null,a,!0,null,!0),t.savePrevious(a,a.label),l.fromTemplateUrl("html/views/modals/colour_codes.html",function(e){a.modal=e},{scope:a,animation:"scale-in"})},a.start(),e.$on("$stateChangeStart",function(e,l,o){a.modal.remove(),t.changeState(e,l,o,a.label)})}])}).call(this);